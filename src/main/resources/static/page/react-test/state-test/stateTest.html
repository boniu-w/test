<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>state-test</title>

    <script src="../../../js/react-17.0.1/react.development.js"></script>
    <script src="../../../js/react-17.0.1/react-dom.development.js"></script>
    <script src="../../../js/babel/babel-7.0.0/babel.js"></script>
</head>
<body>

<div id="app">

</div>

<script type="text/babel">

    let that;

    class Page extends React.Component {

        constructor(props) {
            super(props);
            console.log(this.props)
            this.state = {weather: ['hot', 'cool'], isHot: true};
            that = this;
        }

        weather = "hot"

        render() {
            console.log(`=> `, this)

            let {isHot} = this.state.isHot;
            console.log(isHot) // undefined

            return (
                <div>
                    <h1 id="wea"
                        onClick={changeWeather}>今天很{this.state.isHot === true ? this.state.weather[0] : this.weather[1]}</h1>
                    <h1>{this.props.name}</h1>
                </div>
            )
        }
    }

    ReactDOM.render(<Page/>, document.getElementById("app"))

    let wea = document.getElementById("wea");
    wea.addEventListener('click', () => {
        console.log('wea => ', this) // window
    })

    let page = new Page();

    console.log('page => ', page)

    function demo() {
        console.log(this); // undefined
        // page.state.isHot = !page.state.isHot
        // console.log('page.state => ', page.state)

        page.setState = {
            isHot: !page.state.isHot
        }

        console.log('page.state => ', page.state)
    }

    console.log('that', that)

    function changeWeather() {
        console.log('that => ', that)


    }


</script>

</body>
</html>
